source "https://rubygems.org"

chef_version = ENV['CHEF_VERSION']

# TODO when chef-zero > 4.2.3 is released then just depend on that
gem 'chef-zero', github: 'chef/chef-zero'

if chef_version == 'master'
  puts "Testing chef/chef master"
  gem 'chef', github: 'chef/chef'
elsif chef_version
  puts "Testing Chef version #{chef_version}"
  gem 'chef', chef_version
else
  puts "Testing latest Chef released version"
  gem 'chef'
end

gemspec
